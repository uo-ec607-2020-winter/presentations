<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>tidytext</title>
    <meta charset="utf-8" />
    <meta name="author" content="Colleen O’Briant" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# tidytext
### Colleen O’Briant

---




# tidying your text


```r
## Load your packages here, e.g.
pacman::p_load(tidyverse, tidytext, rjson,  dplyr, ggplot2, rlist)
```



```r
#install.packages("tidytext")
#library(tidytext)
```

--

Tidying text is a lot like tidying data. Each variable is a column, each observation is a row.

--

Every meaningful unit of text (usually a word, but can also be an n-gram, sentence, or paragraph) is called a **token** and has its own row.

---
# unnest_tokens()

**Tokenization** is splitting your text into rows of tokens. Use tidytext::unnest_tokens() to easily tokenize, strip punctuation and convert to lowercase.

--

```r
JsonData &lt;- fromJSON(file= "message.json" )
```

```
## Error in file(con, "r"): cannot open the connection
```

```r
data_Everyone &lt;-list.select(JsonData, text) %&gt;% unlist() %&gt;% tibble()
```

```
## Error in is.empty(.data): object 'JsonData' not found
```

```r
JsonData[[380]]$text
```

```
## Error in eval(expr, envir, enclos): object 'JsonData' not found
```

```r
JsonData[[380]]$name
```

```
## Error in eval(expr, envir, enclos): object 'JsonData' not found
```
---
Use tidytext::unnest_tokens to split data into a column of words.

Use tidytext::get_stopwords to remove boring words (the, I, you, etc)
--

```r
unnested_Everyone &lt;- unnest_tokens(data_Everyone, word, .) %&gt;%
  anti_join(get_stopwords())
```

```
## Error in unnest_tokens(data_Everyone, word, .): object 'data_Everyone' not found
```

```r
head(unnested_Everyone)
```

```
## Error in head(unnested_Everyone): object 'unnested_Everyone' not found
```
---
#What's my favorite words?

```r
freq_Everyone &lt;- count(unnested_Everyone, word)
```

```
## Error in group_vars(x): object 'unnested_Everyone' not found
```

```r
data_Colleen &lt;- list.filter(JsonData, name == "Colleen O'Briant") %&gt;%
  list.select(text) %&gt;% unlist() %&gt;% tibble()
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```r
unnested_Colleen &lt;- unnest_tokens(data_Colleen, word, .) %&gt;%
  anti_join(get_stopwords())
```

```
## Error in unnest_tokens(data_Colleen, word, .): object 'data_Colleen' not found
```

```r
freq_Colleen &lt;- count(unnested_Colleen, word)
```

```
## Error in group_vars(x): object 'unnested_Colleen' not found
```

```r
everyone_vs_colleen &lt;- left_join(freq_Colleen, freq_Everyone, by = "word") %&gt;% mutate(n.x/n.y) %&gt;% filter(n.x &gt; 3) %&gt;% arrange(desc(n.x/n.y))
```

```
## Error in left_join(freq_Colleen, freq_Everyone, by = "word"): object 'freq_Colleen' not found
```

```r
head(everyone_vs_colleen)
```

```
## Error in head(everyone_vs_colleen): object 'everyone_vs_colleen' not found
```

---
#Sentiment Analysis: bing
Use tidytext::get_sentiments("bing") to use a dataset from Bing Liu &amp; collaborators. Bing categorizes words in a binary positive or negative fashion.

```r
data_Shihab &lt;- list.filter(JsonData, name == "Shihab Siddiqui") %&gt;%
  list.select(text) %&gt;% unlist() %&gt;% tibble()
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```r
unnested_Shihab &lt;- unnest_tokens(data_Shihab, word, .) %&gt;%
     anti_join(get_stopwords())
```

```
## Error in unnest_tokens(data_Shihab, word, .): object 'data_Shihab' not found
```

```r
freq_Shihab &lt;- count(unnested_Shihab, word, sort = TRUE)
```

```
## Error in group_vars(x): object 'unnested_Shihab' not found
```

```r
Shihab_feels &lt;- unnested_Shihab %&gt;%
  inner_join(get_sentiments("bing"))
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shihab' not found
```

```r
Shihab_feels &lt;- cbind(Shihab_feels, positive = ifelse(Shihab_feels$sentiment == "positive", 1, 0))
```

```
## Error in cbind(Shihab_feels, positive = ifelse(Shihab_feels$sentiment == : object 'Shihab_feels' not found
```

```r
mean(Shihab_feels$positive)
```

```
## Error in mean(Shihab_feels$positive): object 'Shihab_feels' not found
```
---
#Sentiment Analysis: bing

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Kevin, word, .): object 'data_Kevin' not found
```

```
## Error in group_vars(x): object 'unnested_Kevin' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Kevin' not found
```

```
## Error in cbind(Kevin_feels, positive = ifelse(Kevin_feels$sentiment == : object 'Kevin_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Jake, word, .): object 'data_Jake' not found
```

```
## Error in group_vars(x): object 'unnested_Jake' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Jake' not found
```

```
## Error in cbind(Jake_feels, positive = ifelse(Jake_feels$sentiment == "positive", : object 'Jake_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Colleen, word, .): object 'data_Colleen' not found
```

```
## Error in group_vars(x): object 'unnested_Colleen' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Colleen' not found
```

```
## Error in cbind(Colleen_feels, positive = ifelse(Colleen_feels$sentiment == : object 'Colleen_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Ethan, word, .): object 'data_Ethan' not found
```

```
## Error in group_vars(x): object 'unnested_Ethan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Ethan' not found
```

```
## Error in cbind(Ethan_feels, positive = ifelse(Ethan_feels$sentiment == : object 'Ethan_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Promise, word, .): object 'data_Promise' not found
```

```
## Error in group_vars(x): object 'unnested_Promise' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Promise' not found
```

```
## Error in cbind(Promise_feels, positive = ifelse(Promise_feels$sentiment == : object 'Promise_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Robert, word, .): object 'data_Robert' not found
```

```
## Error in group_vars(x): object 'unnested_Robert' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Robert' not found
```

```
## Error in cbind(Robert_feels, positive = ifelse(Robert_feels$sentiment == : object 'Robert_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Lance, word, .): object 'data_Lance' not found
```

```
## Error in group_vars(x): object 'unnested_Lance' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Lance' not found
```

```
## Error in cbind(Lance_feels, positive = ifelse(Lance_feels$sentiment == : object 'Lance_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Brad, word, .): object 'data_Brad' not found
```

```
## Error in group_vars(x): object 'unnested_Brad' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Brad' not found
```

```
## Error in cbind(Brad_feels, positive = ifelse(Brad_feels$sentiment == "positive", : object 'Brad_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Garrett, word, .): object 'data_Garrett' not found
```

```
## Error in group_vars(x): object 'unnested_Garrett' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Garrett' not found
```

```
## Error in cbind(Garrett_feels, positive = ifelse(Garrett_feels$sentiment == : object 'Garrett_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_James, word, .): object 'data_James' not found
```

```
## Error in group_vars(x): object 'unnested_James' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_James' not found
```

```
## Error in cbind(James_feels, positive = ifelse(James_feels$sentiment == : object 'James_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Pramod, word, .): object 'data_Pramod' not found
```

```
## Error in group_vars(x): object 'unnested_Pramod' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Pramod' not found
```

```
## Error in cbind(Pramod_feels, positive = ifelse(Pramod_feels$sentiment == : object 'Pramod_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Shan, word, .): object 'data_Shan' not found
```

```
## Error in group_vars(x): object 'unnested_Shan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shan' not found
```

```
## Error in cbind(Shan_feels, positive = ifelse(Shan_feels$sentiment == "positive", : object 'Shan_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Tanner, word, .): object 'data_Tanner' not found
```

```
## Error in group_vars(x): object 'unnested_Tanner' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Tanner' not found
```

```
## Error in cbind(Tanner_feels, positive = ifelse(Tanner_feels$sentiment == : object 'Tanner_feels' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Zoe, word, .): object 'data_Zoe' not found
```

```
## Error in group_vars(x): object 'unnested_Zoe' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Zoe' not found
```

```
## Error in cbind(Zoe_feels, positive = ifelse(Zoe_feels$sentiment == "positive", : object 'Zoe_feels' not found
```

```
## Error in mean(Zoe_feels$positive): object 'Zoe_feels' not found
```

```
## Error in matrix(plot_data, nrow = 15, byrow = T): object 'plot_data' not found
```

```
## Error in plot$V2: object of type 'closure' is not subsettable
```

```
## Error: You're passing a function as global data.
## Have you misspelled the `data` argument in `ggplot()`
```
---
#Sentiment Analysis: afinn

AFINN from Finn Årup Nielsen assigns words a score from -5 to 5 based on how negative or positive they are.
--

```
## Error in eval(lhs, parent, parent): object 'unnested_Zoe' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Brad' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Colleen' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Garrett' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Ethan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Robert' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Pramod' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Promise' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Tanner' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_James' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shihab' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Lance' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Kevin' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Jake' not found
```

```
## Error in mean(Zoe_feels$value): object 'Zoe_feels' not found
```

```
## Error in matrix(plot_data, nrow = 15, byrow = T): object 'plot_data' not found
```

```
## Error in plot$V2: object of type 'closure' is not subsettable
```

```
## Error: You're passing a function as global data.
## Have you misspelled the `data` argument in `ggplot()`
```

---

# Sentiment Analysis: nrc

nrc from Saif Mohammad and Peter Turney takes each word and assigns to it multiple more complicated sentiments (fear, anticipation, etc).
--


```
## Error in eval(lhs, parent, parent): object 'unnested_Zoe' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Brad' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Colleen' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Garrett' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Ethan' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Robert' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Pramod' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Promise' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Tanner' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_James' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Shihab' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Lance' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Kevin' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Jake' not found
```

```
## Error in cbind(sentiment = Zoe_feels$sentiment, Zoe = Zoe_feels$Zoe/sum(Zoe_feels$Zoe), : object 'Zoe_feels' not found
```

```
## Error in eval(lhs, parent, parent): object 'plot_data' not found
```

```
## Error in ggplot(plot_data, aes(x = name, y = as.numeric(as.character(value)))): object 'plot_data' not found
```
---
# Effect of school on our group positivity

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Sep2018, word, .): object 'data_Everyone_Sep2018' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Sep2018' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Oct2018, word, .): object 'data_Everyone_Oct2018' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Oct2018' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Nov2018, word, .): object 'data_Everyone_Nov2018' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Nov2018' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Dec2018, word, .): object 'data_Everyone_Dec2018' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Dec2018' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Jan2019, word, .): object 'data_Everyone_Jan2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Jan2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Feb2019, word, .): object 'data_Everyone_Feb2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Feb2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Mar2019, word, .): object 'data_Everyone_Mar2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Mar2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Apr2019, word, .): object 'data_Everyone_Apr2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Apr2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_May2019, word, .): object 'data_Everyone_May2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_May2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Jun2019, word, .): object 'data_Everyone_Jun2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Jun2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Jul2019, word, .): object 'data_Everyone_Jul2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Jul2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Aug2019, word, .): object 'data_Everyone_Aug2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Aug2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Sep2019, word, .): object 'data_Everyone_Sep2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Sep2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Oct2019, word, .): object 'data_Everyone_Oct2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Oct2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Nov2019, word, .): object 'data_Everyone_Nov2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Nov2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Dec2019, word, .): object 'data_Everyone_Dec2019' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Dec2019' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Jan2020, word, .): object 'data_Everyone_Jan2020' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Jan2020' not found
```

```
## Error in reduce(function(data, cond) {: object 'JsonData' not found
```

```
## Error in unnest_tokens(data_Everyone_Feb2020, word, .): object 'data_Everyone_Feb2020' not found
```

```
## Error in eval(lhs, parent, parent): object 'unnested_Everyone_Feb2020' not found
```

```
## Error in mean(Everyone_Sep2018_feels$value): object 'Everyone_Sep2018_feels' not found
```

```
## Error in matrix(plot_data, ncol = 2, byrow = T): object 'plot_data' not found
```

```
## Error in plot$V2: object of type 'closure' is not subsettable
```

```
## Error in plot$V1: object of type 'closure' is not subsettable
```

```
## Error: You're passing a function as global data.
## Have you misspelled the `data` argument in `ggplot()`
```
---
# Topic Modeling

The next thing I would do is to partition the data into conversations (splitting by time pauses like 3 hours) and use something called
*Latent Dirichlet allocation* to find out what topics we like and what words we use when talking about those topics.

You could use topic modeling to answer questions like, 

How do our conversation topics differ from regular people's conversation topics?

Or even,

How do our conversation topics differ from other economics cohorts conversation topics?
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
